/*! backbone.customsync - v1.2.0 - 2014-06-10
* Copyright (c) 2014 ; Licensed  */
!function(a,b){if("function"==typeof define&&define.amd)define(["backbone","underscore","jquery"],function(a,c,d){b(a,c,d.Deferred)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore"),e=require("rsvp");b(c,d,e.defer)}else b(a.Backbone,a._,a.jQuery.Deferred)}(this,function(a,b,c){var d=function(a,b,d){var e=new c,f="function"==typeof e.promise?e.promise():e.promise,g=a+"Sync",h=d.success,i=d.error;return d.success=function(a){h&&h(a),e.resolve(b)},d.error=function(a){i&&i(a),e.reject(b)},"function"==typeof this[g]?(b.trigger("request",b,f,d),this[g].call(this,d)):d.error(null),f};b.extend(a,{CustomSync:{Model:a.Model.extend({sync:d,xhrSync:a.Model.prototype.sync}),Collection:a.Collection.extend({sync:d,xhrSync:a.Collection.prototype.sync})}})});